<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        #colorbox{
            width: 320px;
            height: 320px;
            position: relative;
        }
        #red, #yellow, #blue, #black{
            width: 150px;
            height: 150px;
            border: 1px solid black;
            position: absolute;
        }
        #yellow {
            left: 160px;
        }
        #blue{
            top: 160px;
        }
        #black{
            left: 160px;
            top: 160px;
        }
    </style>
    <script>
        // chks: Nodelist
        // this.checked를 확인해서 check되었는지 안되었는지를 nodelist에 넣어준다.
        function allSelect(check){
            var chks = document.getElementsByName('chk');
            for (var i = 0; i < chks.length; i++) {
                chks[i].checked = check;
            }
        }
        // selectColor를 통해 input~ 4개가 다 불러와졌다. -> checked는 check되어있으면 true, chks[i].value 에 해당하는 id 내용을 가져온다. 
        function selectColor(){
            var chks = document.getElementsByName('chk');
            for (var i = 0; i < chks.length; i++) {
                if (chks[i].checked) {
                    document.getElementById(chks[i].value).style.backgroundColor = chks[i].value;
                } else {
                    document.getElementById(chks[i].value).style.backgroundColor = "";
                } 
            }
        }
        function clearAll(){
            var chks = document.getElementsByName('chk');
            for (var i = 0; i <chks.length; i++) {
                document.getElementById(chks[i].value).style.backgroundColor = "";
                chks[i].checked = false;
            }   
        }
        /*
        function clearAll01(){
            var checkbox = document.querySelectorAll('input[name]');
            for (var i = 0; i < checkbox.length; i++) {
                checkbox[i].checked = false;
            }
            var colorbox = document.querySelectorAll('#colorbox > div')
            for (var i = 0; i < colorbox.length; i++) {
                colorbox[i].style.backgroundColor = '';
            }
        }
        */
        
    </script>
</head>
<body>
    
    <div id="colorbox">
        <div id="red">red</div>
        <div id="yellow">yellow</div>
        <div id="blue">blue</div>
        <div id="black">black</div>
        
    </div>

    <div id="base">
        <!-- 여기서 쓰인 this는 지금 <input ~~~> 자신을 말한다. -->
        <input type="checkbox" name="all" onclick="allSelect(this.checked);">전체선택<br>

        <input type="checkbox" name="chk" value="red">빨강<br>
        <input type="checkbox" name="chk" value="yellow">노랑<br>
        <input type="checkbox" name="chk" value="blue">파랑<br>
        <input type="checkbox" name="chk" value="black">검정<br>
        
        <input type="button" value="선택" onclick="selectColor()"><br>
        <input type="button" value="초기화" onclick="clearAll()"><br>
    </div>
</body>
</html>